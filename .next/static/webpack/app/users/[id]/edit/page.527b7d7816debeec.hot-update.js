"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/users/[id]/edit/page",{

/***/ "(app-pages-browser)/./src/hooks/useAuth.ts":
/*!******************************!*\
  !*** ./src/hooks/useAuth.ts ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ useAuth; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _services_authService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/services/authService */ \"(app-pages-browser)/./src/services/authService.ts\");\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! js-cookie */ \"(app-pages-browser)/./node_modules/js-cookie/dist/js.cookie.mjs\");\n\n\n\n\nfunction useAuth() {\n    const [isAuthenticated, setIsAuthenticated] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isLoggingOut, setIsLoggingOut] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isInitializing, setIsInitializing] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useRouter)();\n    const handleLogout = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        setIsLoggingOut(true);\n        (0,_services_authService__WEBPACK_IMPORTED_MODULE_2__.logout)();\n        setIsAuthenticated(false);\n        setIsInitializing(false);\n        router.push(\"/login\");\n    }, [\n        router\n    ]);\n    // Auto logout after inactivity (30 minutes) - only when fully authenticated\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!isAuthenticated || isLoggingOut || isInitializing) return;\n        let inactivityTimer;\n        const resetTimer = ()=>{\n            clearTimeout(inactivityTimer);\n            inactivityTimer = setTimeout(()=>{\n                handleLogout();\n            }, 30 * 60 * 1000); // 30 minutes\n        };\n        // Reset timer on user activity\n        const events = [\n            \"mousedown\",\n            \"mousemove\",\n            \"keypress\",\n            \"scroll\",\n            \"touchstart\"\n        ];\n        const handleActivity = ()=>{\n            resetTimer();\n        };\n        events.forEach((event)=>{\n            document.addEventListener(event, handleActivity, true);\n        });\n        // Start the timer\n        resetTimer();\n        // Cleanup\n        return ()=>{\n            clearTimeout(inactivityTimer);\n            events.forEach((event)=>{\n                document.removeEventListener(event, handleActivity, true);\n            });\n        };\n    }, [\n        isAuthenticated,\n        isLoggingOut,\n        isInitializing,\n        handleLogout\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (isLoggingOut) return;\n        const verifyToken = async ()=>{\n            const token = js_cookie__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(\"accessToken\");\n            if (token) {\n                try {\n                    await (0,_services_authService__WEBPACK_IMPORTED_MODULE_2__.checkToken)();\n                    setIsAuthenticated(true);\n                    setIsInitializing(false);\n                } catch (error) {\n                    try {\n                        await (0,_services_authService__WEBPACK_IMPORTED_MODULE_2__.refreshToken)();\n                        setIsAuthenticated(true);\n                        setIsInitializing(false);\n                    } catch (refreshError) {\n                        handleLogout();\n                    }\n                }\n            } else {\n                setIsAuthenticated(false);\n                setIsInitializing(false);\n            }\n        };\n        const timer = setTimeout(()=>{\n            verifyToken();\n        }, 100);\n        return ()=>clearTimeout(timer);\n    }, [\n        router,\n        isLoggingOut,\n        handleLogout\n    ]);\n    return {\n        isAuthenticated,\n        logout: handleLogout,\n        isInitializing\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VBdXRoLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF5RDtBQUNiO0FBQzhCO0FBQzFDO0FBRWpCLFNBQVNRO0lBQ3RCLE1BQU0sQ0FBQ0MsaUJBQWlCQyxtQkFBbUIsR0FBR1QsK0NBQVFBLENBQWlCO0lBQ3ZFLE1BQU0sQ0FBQ1UsY0FBY0MsZ0JBQWdCLEdBQUdYLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ1ksZ0JBQWdCQyxrQkFBa0IsR0FBR2IsK0NBQVFBLENBQUM7SUFDckQsTUFBTWMsU0FBU1osMERBQVNBO0lBRXhCLE1BQU1hLGVBQWVkLGtEQUFXQSxDQUFDO1FBQy9CVSxnQkFBZ0I7UUFDaEJOLDZEQUFNQTtRQUNOSSxtQkFBbUI7UUFDbkJJLGtCQUFrQjtRQUNsQkMsT0FBT0UsSUFBSSxDQUFDO0lBQ2QsR0FBRztRQUFDRjtLQUFPO0lBRVgsNEVBQTRFO0lBQzVFZixnREFBU0EsQ0FBQztRQUNSLElBQUksQ0FBQ1MsbUJBQW1CRSxnQkFBZ0JFLGdCQUFnQjtRQUV4RCxJQUFJSztRQUVKLE1BQU1DLGFBQWE7WUFDakJDLGFBQWFGO1lBQ2JBLGtCQUFrQkcsV0FBVztnQkFDM0JMO1lBQ0YsR0FBRyxLQUFLLEtBQUssT0FBTyxhQUFhO1FBQ25DO1FBRUEsK0JBQStCO1FBQy9CLE1BQU1NLFNBQVM7WUFBQztZQUFhO1lBQWE7WUFBWTtZQUFVO1NBQWE7UUFFN0UsTUFBTUMsaUJBQWlCO1lBQ3JCSjtRQUNGO1FBRUFHLE9BQU9FLE9BQU8sQ0FBQ0MsQ0FBQUE7WUFDYkMsU0FBU0MsZ0JBQWdCLENBQUNGLE9BQU9GLGdCQUFnQjtRQUNuRDtRQUVBLGtCQUFrQjtRQUNsQko7UUFFQSxVQUFVO1FBQ1YsT0FBTztZQUNMQyxhQUFhRjtZQUNiSSxPQUFPRSxPQUFPLENBQUNDLENBQUFBO2dCQUNiQyxTQUFTRSxtQkFBbUIsQ0FBQ0gsT0FBT0YsZ0JBQWdCO1lBQ3REO1FBQ0Y7SUFDRixHQUFHO1FBQUNkO1FBQWlCRTtRQUFjRTtRQUFnQkc7S0FBYTtJQUVoRWhCLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSVcsY0FBYztRQUVsQixNQUFNa0IsY0FBYztZQUNsQixNQUFNQyxRQUFRdkIsaURBQU9BLENBQUN3QixHQUFHLENBQUM7WUFFMUIsSUFBSUQsT0FBTztnQkFDVCxJQUFJO29CQUNGLE1BQU0xQixpRUFBVUE7b0JBQ2hCTSxtQkFBbUI7b0JBQ25CSSxrQkFBa0I7Z0JBQ3BCLEVBQUUsT0FBT2tCLE9BQU87b0JBQ2QsSUFBSTt3QkFDRixNQUFNM0IsbUVBQVlBO3dCQUNsQkssbUJBQW1CO3dCQUNuQkksa0JBQWtCO29CQUNwQixFQUFFLE9BQU9tQixjQUFjO3dCQUNyQmpCO29CQUNGO2dCQUNGO1lBQ0YsT0FBTztnQkFDTE4sbUJBQW1CO2dCQUNuQkksa0JBQWtCO1lBQ3BCO1FBQ0Y7UUFFQSxNQUFNb0IsUUFBUWIsV0FBVztZQUN2QlE7UUFDRixHQUFHO1FBRUgsT0FBTyxJQUFNVCxhQUFhYztJQUM1QixHQUFHO1FBQUNuQjtRQUFRSjtRQUFjSztLQUFhO0lBRXZDLE9BQU87UUFBRVA7UUFBaUJILFFBQVFVO1FBQWNIO0lBQWU7QUFDakUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2hvb2tzL3VzZUF1dGgudHM/M2MxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcclxuaW1wb3J0IHsgY2hlY2tUb2tlbiwgcmVmcmVzaFRva2VuLCBsb2dvdXQgfSBmcm9tICdAL3NlcnZpY2VzL2F1dGhTZXJ2aWNlJztcclxuaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZUF1dGgoKSB7XHJcbiAgY29uc3QgW2lzQXV0aGVudGljYXRlZCwgc2V0SXNBdXRoZW50aWNhdGVkXSA9IHVzZVN0YXRlPGJvb2xlYW4gfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbaXNMb2dnaW5nT3V0LCBzZXRJc0xvZ2dpbmdPdXRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc0luaXRpYWxpemluZywgc2V0SXNJbml0aWFsaXppbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUxvZ291dCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHNldElzTG9nZ2luZ091dCh0cnVlKTtcclxuICAgIGxvZ291dCgpO1xyXG4gICAgc2V0SXNBdXRoZW50aWNhdGVkKGZhbHNlKTtcclxuICAgIHNldElzSW5pdGlhbGl6aW5nKGZhbHNlKTtcclxuICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTtcclxuICB9LCBbcm91dGVyXSk7XHJcblxyXG4gIC8vIEF1dG8gbG9nb3V0IGFmdGVyIGluYWN0aXZpdHkgKDMwIG1pbnV0ZXMpIC0gb25seSB3aGVuIGZ1bGx5IGF1dGhlbnRpY2F0ZWRcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFpc0F1dGhlbnRpY2F0ZWQgfHwgaXNMb2dnaW5nT3V0IHx8IGlzSW5pdGlhbGl6aW5nKSByZXR1cm47XHJcblxyXG4gICAgbGV0IGluYWN0aXZpdHlUaW1lcjogTm9kZUpTLlRpbWVvdXQ7XHJcblxyXG4gICAgY29uc3QgcmVzZXRUaW1lciA9ICgpID0+IHtcclxuICAgICAgY2xlYXJUaW1lb3V0KGluYWN0aXZpdHlUaW1lcik7XHJcbiAgICAgIGluYWN0aXZpdHlUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGhhbmRsZUxvZ291dCgpO1xyXG4gICAgICB9LCAzMCAqIDYwICogMTAwMCk7IC8vIDMwIG1pbnV0ZXNcclxuICAgIH07XHJcblxyXG4gICAgLy8gUmVzZXQgdGltZXIgb24gdXNlciBhY3Rpdml0eVxyXG4gICAgY29uc3QgZXZlbnRzID0gWydtb3VzZWRvd24nLCAnbW91c2Vtb3ZlJywgJ2tleXByZXNzJywgJ3Njcm9sbCcsICd0b3VjaHN0YXJ0J107XHJcbiAgICBcclxuICAgIGNvbnN0IGhhbmRsZUFjdGl2aXR5ID0gKCkgPT4ge1xyXG4gICAgICByZXNldFRpbWVyKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGV2ZW50cy5mb3JFYWNoKGV2ZW50ID0+IHtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlQWN0aXZpdHksIHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gU3RhcnQgdGhlIHRpbWVyXHJcbiAgICByZXNldFRpbWVyKCk7XHJcblxyXG4gICAgLy8gQ2xlYW51cFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgY2xlYXJUaW1lb3V0KGluYWN0aXZpdHlUaW1lcik7XHJcbiAgICAgIGV2ZW50cy5mb3JFYWNoKGV2ZW50ID0+IHtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVBY3Rpdml0eSwgdHJ1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9LCBbaXNBdXRoZW50aWNhdGVkLCBpc0xvZ2dpbmdPdXQsIGlzSW5pdGlhbGl6aW5nLCBoYW5kbGVMb2dvdXRdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpc0xvZ2dpbmdPdXQpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCB2ZXJpZnlUb2tlbiA9IGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgdG9rZW4gPSBDb29raWVzLmdldCgnYWNjZXNzVG9rZW4nKTtcclxuICAgICAgXHJcbiAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBhd2FpdCBjaGVja1Rva2VuKCk7XHJcbiAgICAgICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQodHJ1ZSk7XHJcbiAgICAgICAgICBzZXRJc0luaXRpYWxpemluZyhmYWxzZSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHJlZnJlc2hUb2tlbigpO1xyXG4gICAgICAgICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIHNldElzSW5pdGlhbGl6aW5nKGZhbHNlKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKHJlZnJlc2hFcnJvcikge1xyXG4gICAgICAgICAgICBoYW5kbGVMb2dvdXQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2V0SXNBdXRoZW50aWNhdGVkKGZhbHNlKTtcclxuICAgICAgICBzZXRJc0luaXRpYWxpemluZyhmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdmVyaWZ5VG9rZW4oKTtcclxuICAgIH0sIDEwMCk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lcik7XHJcbiAgfSwgW3JvdXRlciwgaXNMb2dnaW5nT3V0LCBoYW5kbGVMb2dvdXRdKTtcclxuXHJcbiAgcmV0dXJuIHsgaXNBdXRoZW50aWNhdGVkLCBsb2dvdXQ6IGhhbmRsZUxvZ291dCwgaXNJbml0aWFsaXppbmcgfTtcclxufSJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlUm91dGVyIiwiY2hlY2tUb2tlbiIsInJlZnJlc2hUb2tlbiIsImxvZ291dCIsIkNvb2tpZXMiLCJ1c2VBdXRoIiwiaXNBdXRoZW50aWNhdGVkIiwic2V0SXNBdXRoZW50aWNhdGVkIiwiaXNMb2dnaW5nT3V0Iiwic2V0SXNMb2dnaW5nT3V0IiwiaXNJbml0aWFsaXppbmciLCJzZXRJc0luaXRpYWxpemluZyIsInJvdXRlciIsImhhbmRsZUxvZ291dCIsInB1c2giLCJpbmFjdGl2aXR5VGltZXIiLCJyZXNldFRpbWVyIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImV2ZW50cyIsImhhbmRsZUFjdGl2aXR5IiwiZm9yRWFjaCIsImV2ZW50IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInZlcmlmeVRva2VuIiwidG9rZW4iLCJnZXQiLCJlcnJvciIsInJlZnJlc2hFcnJvciIsInRpbWVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useAuth.ts\n"));

/***/ })

});